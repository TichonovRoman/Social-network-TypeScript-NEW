"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[528],{8528:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});var r=s(5671),n=s(3144),a=s(9340),i=s(5716),o=s(2791),u=s(2170),l="ProfileInfo_sunflowerImg__DlzwZ",c="ProfileInfo_descriptionBlock__h15iB",d="ProfileInfo_mainPhoto__ue7gn",p=s(4374),h=s(885),f=s(184),x=function(e){var t=(0,o.useState)(e.status),s=(0,h.Z)(t,2),r=s[0],n=s[1],a=(0,o.useState)(!0),i=(0,h.Z)(a,2),u=i[0],l=i[1];(0,o.useEffect)((function(){n(e.status)}),[e.status]);return(0,f.jsx)("div",{children:u?(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){l(!1)},children:r||"-------"})}):(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(e){n(e.currentTarget.value)},onBlur:function(){l(!0),e.updateStatus(r)},autoFocus:!0,value:r})})})},g=s(6325),m=function(e){var t=e.profile,s=e.status,r=e.updateStatus,n=e.isOwner,a=e.savePhoto;if(!t)return(0,f.jsx)(p.Z,{});return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{className:l,src:u})}),(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("img",{src:t.photos.large||g,className:d}),n&&(0,f.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){e.target.files&&a(e.target.files[0])}}),(0,f.jsxs)("div",{children:["\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442: ",t.fullName,(0,f.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",t.aboutMe]})]}),(0,f.jsx)(x,{status:s,updateStatus:r})]})]})},v=s(4136),j="MyPosts_postsBlock__1EBZo",P="MyPosts_posts__8aaC-",M="Post_item__X70zz",S=function(e){return(0,f.jsxs)("div",{className:M,children:[(0,f.jsx)("img",{src:"https://\u0441\u043a\u0430\u0447\u0430\u0442\u044c-\u0432\u0430\u0442\u0441\u0430\u043f-\u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e.\u0440\u0443\u0441/wp-content/uploads/2018/10/avatarka-dlya-devushek-vatsap-7.jpg"}),e.message,(0,f.jsxs)("div",{children:["Like: ",e.likesCount]})]})},_=s(6103),k=o.memo((function(e){var t=e.posts,s=e.addPost,r=t.map((function(e){return(0,f.jsx)(S,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)("div",{children:(0,f.jsx)(_.S,{onSubmit:s,placeholderText:"Enter your post",textMaxLength:100})}),(0,f.jsx)("div",{className:P,children:r})]})})),y=s(7375),C=(0,y.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){return e((0,v.Wl)(t))}}}))(k),b=function(e){return(0,f.jsxs)("div",{children:[(0,f.jsx)(m,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),(0,f.jsx)(C,{})]})},I=s(9723),w=s(7781),N=function(e){(0,a.Z)(s,e);var t=(0,i.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId?this.props.authorizedUserId.toString():"")||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.setStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(b,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto})}}]),s}(o.Component),Z=(0,w.qC)((0,y.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:v.et,setStatus:v.Tf,updateStatus:v.Nf,savePhoto:v.Ju}),I.EN)(N)},6103:function(e,t,s){s.d(t,{S:function(){return a}});s(2791);var r=s(5705),n=s(184),a=function(e){var t=(0,r.TA)({initialValues:{textMessage:""},validate:function(t){var s={};return t.textMessage?t.textMessage.length>e.textMaxLength&&(s.textMessage="Must be ".concat(e.textMaxLength," characters or less")):s.textMessage="Before sending, you must fill in this field",s},onSubmit:function(s){e.onSubmit(s.textMessage),t.resetForm()}});return(0,n.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{placeholder:e.placeholderText,onChange:t.handleChange,value:t.values.textMessage,id:"textMessage",name:"textMessage",style:{backgroundColor:t.errors.textMessage?"pink":""}}),t.errors.textMessage?(0,n.jsx)("div",{style:{color:"red"},children:t.errors.textMessage}):null]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",children:"Add Message"})})]})}},2170:function(e,t,s){e.exports=s.p+"static/media/SunFlower.d7988829e86cf100f5f3.jpg"}}]);
//# sourceMappingURL=528.68cfdb51.chunk.js.map