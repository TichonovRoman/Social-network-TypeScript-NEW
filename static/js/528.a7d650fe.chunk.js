"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[528],{8528:function(t,e,s){s.r(e),s.d(e,{default:function(){return N}});var r=s(5671),n=s(3144),i=s(9340),a=s(5716),u=s(2791),o=s(2170),l="ProfileInfo_sunflowerImg__DlzwZ",d="ProfileInfo_descriptionBlock__h15iB",c=s(4374),p=s(885),h=s(184),f=function(t){var e=(0,u.useState)(t.status),s=(0,p.Z)(e,2),r=s[0],n=s[1],i=(0,u.useState)(!0),a=(0,p.Z)(i,2),o=a[0],l=a[1];(0,u.useEffect)((function(){n(t.status)}),[t.status]);return(0,h.jsx)("div",{children:o?(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){l(!1)},children:r||"-------"})}):(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(t){n(t.currentTarget.value)},onBlur:function(){l(!0),t.updateStatus(r)},autoFocus:!0,value:r})})})},x=function(t){var e=t.profile,s=t.status,r=t.updateStatus;return e?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{className:l,src:o})}),(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("img",{src:e.photos.large}),(0,h.jsxs)("div",{children:["\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442: ",e.fullName,(0,h.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",e.aboutMe]})]}),(0,h.jsx)(f,{status:s,updateStatus:r})]})]}):(0,h.jsx)(c.Z,{})},g=s(4136),j="MyPosts_postsBlock__1EBZo",v="MyPosts_posts__8aaC-",m="Post_item__X70zz",M=function(t){return(0,h.jsxs)("div",{className:m,children:[(0,h.jsx)("img",{src:"https://\u0441\u043a\u0430\u0447\u0430\u0442\u044c-\u0432\u0430\u0442\u0441\u0430\u043f-\u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e.\u0440\u0443\u0441/wp-content/uploads/2018/10/avatarka-dlya-devushek-vatsap-7.jpg"}),t.message,(0,h.jsxs)("div",{children:["Like: ",t.likesCount]})]})},S=s(6103),k=u.memo((function(t){var e=t.posts,s=t.addPost,r=e.map((function(t){return(0,h.jsx)(M,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)("div",{children:(0,h.jsx)(S.S,{onSubmit:s,placeholderText:"Enter your post",textMaxLength:100})}),(0,h.jsx)("div",{className:v,children:r})]})})),_=s(7375),y=(0,_.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){return t((0,g.Wl)(e))}}}))(k),b=function(t){return(0,h.jsxs)("div",{children:[(0,h.jsx)(x,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(y,{})]})},C=s(9723),P=s(7781),Z=function(t){(0,i.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,r.Z)(this,s),e.apply(this,arguments)}return(0,n.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId?this.props.authorizedUserId.toString():"")||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.setStatus(t)}},{key:"render",value:function(){return(0,h.jsx)(b,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),s}(u.Component),N=(0,P.qC)((0,_.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}}),{getUserProfile:g.et,setStatus:g.Tf,updateStatus:g.Nf}),C.EN)(Z)},6103:function(t,e,s){s.d(e,{S:function(){return i}});s(2791);var r=s(5705),n=s(184),i=function(t){var e=(0,r.TA)({initialValues:{textMessage:""},validate:function(e){var s={};return e.textMessage?e.textMessage.length>t.textMaxLength&&(s.textMessage="Must be ".concat(t.textMaxLength," characters or less")):s.textMessage="Before sending, you must fill in this field",s},onSubmit:function(s){t.onSubmit(s.textMessage),e.resetForm()}});return(0,n.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("textarea",{placeholder:t.placeholderText,onChange:e.handleChange,value:e.values.textMessage,id:"textMessage",name:"textMessage",style:{backgroundColor:e.errors.textMessage?"pink":""}}),e.errors.textMessage?(0,n.jsx)("div",{style:{color:"red"},children:e.errors.textMessage}):null]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",children:"Add Message"})})]})}},2170:function(t,e,s){t.exports=s.p+"static/media/SunFlower.d7988829e86cf100f5f3.jpg"}}]);
//# sourceMappingURL=528.a7d650fe.chunk.js.map